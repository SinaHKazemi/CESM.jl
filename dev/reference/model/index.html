<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Model ¬∑ CESM.jl</title><meta name="title" content="Model ¬∑ CESM.jl"/><meta property="og:title" content="Model ¬∑ CESM.jl"/><meta property="twitter:title" content="Model ¬∑ CESM.jl"/><meta name="description" content="Documentation for CESM.jl."/><meta property="og:description" content="Documentation for CESM.jl."/><meta property="twitter:description" content="Documentation for CESM.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="CESM.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">CESM.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">CESM: Compact Energy System Model</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/installation/">Installation</a></li><li><a class="tocitem" href="../../tutorials/sub2/">Subsection 2</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li class="is-active"><a class="tocitem" href>Model</a><ul class="internal"><li><a class="tocitem" href="#Sets"><span>Sets</span></a></li><li><a class="tocitem" href="#Parameters"><span>Parameters</span></a></li><li><a class="tocitem" href="#Variables"><span>Variables</span></a></li><li><a class="tocitem" href="#Constraints"><span>Constraints</span></a></li></ul></li><li><a class="tocitem" href="../config/">Config File</a></li><li><a class="tocitem" href="../inout/">Input and Output</a></li><li><a class="tocitem" href="../variables/">Variables</a></li><li><a class="tocitem" href="../api/">API</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Reference</a></li><li class="is-active"><a href>Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Model</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SinaHKazemi/CESM.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/SinaHKazemi/CESM.jl/blob/main/docs/src/reference/model.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Model"><a class="docs-heading-anchor" href="#Model">Model</a><a id="Model-1"></a><a class="docs-heading-anchor-permalink" href="#Model" title="Permalink"></a></h1><p>Here we define the mathematical model of the optimization problem.</p><h2 id="Sets"><a class="docs-heading-anchor" href="#Sets">Sets</a><a id="Sets-1"></a><a class="docs-heading-anchor-permalink" href="#Sets" title="Permalink"></a></h2><ul><li><strong>years</strong>: an ordered set of years, denoted by <span>$Y$</span>.</li><li><strong>tss</strong>: an ordered set of time steps selection, denoted by <span>$T$</span>.</li><li><strong>carriers</strong>: an unordered set of energy carriers, denoted by <span>$C$</span>. <code>Dummy</code> is a special carrier that is used to represent the carriers out of the model.</li><li><strong>processes</strong>: an unordered set of conversion processes, denoted by <span>$P$</span>. The subset of <span>$P$</span> that contains storage conversion processes is denoted by <span>$S$</span>.</li></ul><h2 id="Parameters"><a class="docs-heading-anchor" href="#Parameters">Parameters</a><a id="Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters" title="Permalink"></a></h2><p>The input parameters of the optimization model are defined as follows:</p><h3 id="Global"><a class="docs-heading-anchor" href="#Global">Global</a><a id="Global-1"></a><a class="docs-heading-anchor-permalink" href="#Global" title="Permalink"></a></h3><ul><li><p><strong>discount_rate</strong>: The discount rate is the interest rate used to calculate the present value of future cash flows from a project or investment. For example, at an interest rate of 5%, the value of ‚Ç¨100 will increase to ‚Ç¨105 in one year.</p><ul><li>indices: scalar</li><li>quantity: dimensionless</li><li>type: Float</li><li>default: 0</li><li>Range: [0,<span>$\infty$</span>]</li></ul></li><li><p><strong>discount_factor</strong>: Discount factor for each year that is calculated as follows. It is not directly specified in the config file but is calculated from the discount rate.</p><ul><li>indices: <span>$Y$</span></li><li>quantity: dimensionless</li><li>type: Float</li><li>default: 0</li><li>Range: [0,<span>$\infty$</span>]</li></ul></li></ul><p class="math-container">\[\text{discount\_factor}[y]=(1+\text{discount\_rate})^{y-Y[0]},\quad y \in Y\]</p><p class="math-container">\[Y[0]\]</p><p>is the first year of the model.</p><ul><li><p><strong>dt</strong>: Time step size. It shows how many hours each time step represents. </p><ul><li>indices: scalar</li><li>quantity: dimensionless</li><li>type: Integer</li></ul></li><li><p><strong>w</strong>:  weight of each time step withim the whole year. It is not directly specified in the config file but is calculated from the time step duration and is equal to <span>$8760/(dt*|T|)$</span> where <span>$|T|$</span> is the number of time steps and <span>$8760$</span> is the number of hours in a year.</p><ul><li>indices: scalar</li><li>quantity: dimensionless</li><li>type: Integer</li></ul></li></ul><h3 id="CO2"><a class="docs-heading-anchor" href="#CO2">CO2</a><a id="CO2-1"></a><a class="docs-heading-anchor-permalink" href="#CO2" title="Permalink"></a></h3><ul><li><p><strong>annual_co2_limit(y)</strong>: Annual CO2 emission limit of the energy system in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$Y$</span></li><li>quantity: CO2 Mass</li><li>type: Float</li><li>default: 0</li><li>Range: [0,<span>$\infty$</span>]</li></ul></li><li><p><strong>co2_price(y)</strong>: CO2 price for emission from the energy system  in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$Y$</span></li><li>quantity: Money/CO2 Mass</li><li>type: Float</li><li>default: 0</li><li>Range: [0,<span>$\infty$</span>]</li></ul></li></ul><h3 id="Storage"><a class="docs-heading-anchor" href="#Storage">Storage</a><a id="Storage-1"></a><a class="docs-heading-anchor-permalink" href="#Storage" title="Permalink"></a></h3><ul><li><p><strong>is_storage(p)</strong>: Indicates if the conversion process <span>$p \in P$</span> is a storage process.</p><ul><li>indices: <span>$P$</span></li><li>quantity: dimensionless</li><li>type: Boolean</li></ul></li><li><p><strong>charge_efficiency(p)</strong>: Efficiency of charging of storage conversion process <span>$p \in P$</span>.</p><ul><li>indices: <span>$P$</span></li><li>quantity: dimensionless</li><li>type: Float</li><li>default: 1</li><li>Range: (0,1]</li></ul></li><li><p><strong>c_rate(p)</strong>: indicates the discharge and charging rate of the storage conversion process <span>$p \in P$</span>. 2C means that the full storage can be fully discharged in (1 hour)/2=30 minutes.</p><ul><li>indices: <span>$P$</span></li><li>quantity: dimensionless</li><li>type: Float</li><li>Range: (0,1]</li></ul></li></ul><h3 id="Legacy"><a class="docs-heading-anchor" href="#Legacy">Legacy</a><a id="Legacy-1"></a><a class="docs-heading-anchor-permalink" href="#Legacy" title="Permalink"></a></h3><ul><li><p><strong>max_legacy_capacity(p,y)</strong>: maximum allowed active legacy capacity of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: power</li><li>type: Float</li><li>default: 0</li></ul></li><li><p><strong>min_legacy_capacity(p,y)</strong>: minimum allowed active legacy capacity of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: power</li><li>type: Float</li><li>default: 0</li><li>Range: [0,<span>$\infty$</span>]</li></ul></li></ul><h3 id="Capacity"><a class="docs-heading-anchor" href="#Capacity">Capacity</a><a id="Capacity-1"></a><a class="docs-heading-anchor-permalink" href="#Capacity" title="Permalink"></a></h3><ul><li><p><strong>max_capacity(p,y)</strong>: maximum allowed active capacity of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: power</li><li>type: Float</li><li>default: 0</li><li>Range: [0,<span>$\infty$</span>]</li></ul></li><li><p><strong>min_capacity(p,y)</strong>: minimum allowed active capacity of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: power</li><li>type: Float</li><li>default: 0</li><li>Range: [0,<span>$\infty$</span>]</li></ul></li></ul><h3 id="Costs"><a class="docs-heading-anchor" href="#Costs">Costs</a><a id="Costs-1"></a><a class="docs-heading-anchor-permalink" href="#Costs" title="Permalink"></a></h3><ul><li><p><strong>operational_cost_energy(p,y)</strong>: Operational cost per energy output of conversion process <span>$p \in P$</span> in a year.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: Money/Energy</li><li>type: Float</li><li>default: 0</li><li>Range: [0,<span>$\infty$</span>]</li></ul></li><li><p><strong>operational_cost_power(p,y)</strong>: Operational cost per active capacity of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: Money/Power</li><li>type: Float</li><li>default: 0</li><li>Range: [0,<span>$\infty$</span>]</li></ul></li><li><p><strong>capital_cost_power(p,y)</strong>: Capital cost per active capacity of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: Money/Power</li><li>type: Float</li><li>default: 0</li><li>Range: [0,<span>$\infty$</span>]</li></ul></li></ul><h3 id="Fractions"><a class="docs-heading-anchor" href="#Fractions">Fractions</a><a id="Fractions-1"></a><a class="docs-heading-anchor-permalink" href="#Fractions" title="Permalink"></a></h3><ul><li><p><strong>min_fraction_in(p,y)</strong>: minimum fraction of the input carrier(cin) generated by conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: dimensionless</li><li>type: Float</li><li>default: 0</li></ul></li><li><p><strong>min_fraction_out(p,y)</strong>: minimum fraction of the output carrier(cout) generated by conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: dimensionless</li><li>type: Float</li><li>default: 0</li></ul></li><li><p><strong>max_fraction_in(p,y)</strong>: maximum fraction of the input carrier(cin) generated by conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: dimensionless</li><li>type: Float</li><li>default: 1</li></ul></li><li><p><strong>max_fraction_out(p,y)</strong>: maximum fraction of the output carrier(cout) generated by conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: dimensionless</li><li>type: Float</li><li>default: 1</li></ul></li></ul><h3 id="Output-Limits"><a class="docs-heading-anchor" href="#Output-Limits">Output Limits</a><a id="Output-Limits-1"></a><a class="docs-heading-anchor-permalink" href="#Output-Limits" title="Permalink"></a></h3><ul><li><p><strong>max_energy_out(p,y)</strong>: maximum energy output of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: Energy</li><li>type: Float</li><li>default: <span>$\infty$</span></li></ul></li><li><p><strong>min_energy_out(p,y)</strong>: minimum energy output of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: Energy</li><li>type: Float</li><li>default: 0</li></ul></li></ul><h3 id="Time-Series"><a class="docs-heading-anchor" href="#Time-Series">Time Series</a><a id="Time-Series-1"></a><a class="docs-heading-anchor-permalink" href="#Time-Series" title="Permalink"></a></h3><ul><li><p><strong>availability_profile(p,t)</strong>: Availability profile of conversion process <span>$p \in P$</span> at  time step <span>$t \in T$</span>.</p><ul><li>indices: <span>$P \times T$</span></li><li>quantity: dimensionless</li><li>type: Float</li><li>default: 1</li><li>Range: [0,1]</li></ul></li><li><p><strong>output_profile(p,t)</strong>: Share of the annual energy output supplied  of the conversion process <span>$p \in P$</span> at time step <span>$t \in T$</span> such that  <span>$\sum_{t \in T}output\_profile[p,t]=1 \quad \forall p \in P$</span>.</p><ul><li>indices: <span>$P \times T$</span></li><li>quantity: dimensionless</li><li>type: Float</li><li>default: 1</li><li>Range: [0,1]</li></ul></li></ul><h3 id="Technical"><a class="docs-heading-anchor" href="#Technical">Technical</a><a id="Technical-1"></a><a class="docs-heading-anchor-permalink" href="#Technical" title="Permalink"></a></h3><ul><li><p><strong>lifetime(p)</strong>: Technical lifetime of conversion process <span>$p \in P$</span> in years.</p><ul><li>indices: <span>$P$</span></li><li>quantity: Time</li><li>type: Integer</li><li>default: 100</li></ul></li><li><p><strong>technical_availability(p)</strong>: Technical availability of conversion process <span>$p \in P$</span>.</p><ul><li>indices: <span>$P$</span></li><li>quantity: dimensionless</li><li>type: Float</li><li>default: 1</li><li>Range: [0,1]</li></ul></li><li><p><strong>specific_co2(p)</strong>: Specific CO2 emission intensity per energy output of conversion process <span>$p \in P$</span>.</p><ul><li>indices: <span>$P$</span></li><li>quantity: CO2 Mass/Energy</li><li>type: Float</li><li>default: 0</li></ul></li><li><p><strong>efficiency(p)</strong>: Efficiency of conversion process <span>$p \in P$</span>.</p><ul><li>indices: <span>$P$</span></li><li>quantity: dimensionless</li><li>type: Float</li><li>default: 1</li><li>Range: [0,1]</li></ul></li></ul><h2 id="Variables"><a class="docs-heading-anchor" href="#Variables">Variables</a><a id="Variables-1"></a><a class="docs-heading-anchor-permalink" href="#Variables" title="Permalink"></a></h2><p>All variables are non-negative unless otherwise specified.</p><h3 id="Costs-2"><a class="docs-heading-anchor" href="#Costs-2">Costs</a><a class="docs-heading-anchor-permalink" href="#Costs-2" title="Permalink"></a></h3><ul><li><p><strong>var_total_cost</strong>: Total cost.</p><ul><li>indices: scalar</li><li>quantity: Money</li><li>type: Float</li></ul></li><li><p><strong>var_capital_cost</strong>: Capital cost.</p><ul><li>indices: scalar</li><li>quantity: Money</li><li>type: Float</li></ul></li><li><p><strong>var_operational_cost</strong>: Operational cost.</p><ul><li>indices: scalar</li><li>quantity: Money</li><li>type: Float</li></ul></li><li><p><strong>var_residual_value(p,y)</strong>: Residual value of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: Money</li><li>type: Float</li></ul></li><li><p><strong>var_total_residual_value</strong>: Total residual value.</p><ul><li>indices: scalar</li><li>quantity: Money</li><li>type: Float</li></ul></li></ul><h3 id="CO2-2"><a class="docs-heading-anchor" href="#CO2-2">CO2</a><a class="docs-heading-anchor-permalink" href="#CO2-2" title="Permalink"></a></h3><ul><li><strong>var_annual_emission(y)</strong>: Annual CO2 emission from the energy system in year <span>$y \in Y$</span>.<ul><li>indices: <span>$Y$</span></li><li>quantity: CO2 Mass</li><li>type: Float</li></ul></li></ul><h3 id="Capacity-2"><a class="docs-heading-anchor" href="#Capacity-2">Capacity</a><a class="docs-heading-anchor-permalink" href="#Capacity-2" title="Permalink"></a></h3><ul><li><p><strong>var_new_capacity(p,y)</strong>: New capacity of conversion process <span>$p\in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: Power</li><li>type: Float</li></ul></li><li><p><strong>var_active_capacity(p,y)</strong>: Active capacity of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: Power</li><li>type: Float</li></ul></li><li><p><strong>var_legacy_capacity(p,y)</strong>: Legacy capacity of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: Power</li><li>type: Float</li></ul></li></ul><h3 id="Power-and-Energy"><a class="docs-heading-anchor" href="#Power-and-Energy">Power and Energy</a><a id="Power-and-Energy-1"></a><a class="docs-heading-anchor-permalink" href="#Power-and-Energy" title="Permalink"></a></h3><ul><li><p><strong>var_power_in(p,y,t)</strong>: Power input of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span> at time step <span>$t \in T$</span>.</p><ul><li>indices: <span>$P \times Y \times T$</span></li><li>quantity: Power</li><li>type: Float</li></ul></li><li><p><strong>var_power_out(p,y,t)</strong>: Power output of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span> at time step <span>$t \in T$</span>.</p><ul><li>indices: <span>$P \times Y \times T$</span></li><li>quantity: Power</li><li>type: Float</li></ul></li><li><p><strong>var_total_energy_out(p,y)</strong>: Total energy output of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: Energy</li><li>type: Float</li></ul></li><li><p><strong>var_total_energy_in</strong>: Total energy input of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: Energy</li><li>type: Float</li></ul></li><li><p><strong>var_energy_out_time</strong>: Energy output of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span> at time step <span>$t \in T$</span>.</p><ul><li>indices: <span>$P \times Y \times T$</span></li><li>quantity: Energy</li><li>type: Float</li></ul></li><li><p><strong>var_energy_in_time(p,y,t)</strong>: Energy input of conversion process <span>$p \in P$</span> in year <span>$y \in Y$</span> at time step <span>$t \in T$</span>.</p><ul><li>indices: <span>$P \times Y \times T$</span></li><li>quantity: Energy</li><li>type: Float</li></ul></li><li><p><strong>var_net_energy_generation(c,y,t)</strong>: Net energy generation of energy carrier <span>$c \in C$</span> in year <span>$y \in Y$</span> at time step <span>$t \in T$</span>.</p><ul><li>indices: <span>$C \times Y \times T$</span></li><li>quantity: Energy</li><li>type: Float</li></ul></li><li><p><strong>var_net_energy_consumption(c,y,t)</strong>: Net energy consumption of energy carrier <span>$c \in C$</span> in year <span>$y \in Y$</span> at time step <span>$t \in T$</span>.</p><ul><li>indices: <span>$C \times Y \times T$</span></li><li>quantity: Energy</li><li>type: Float</li></ul></li></ul><h3 id="Storage-2"><a class="docs-heading-anchor" href="#Storage-2">Storage</a><a class="docs-heading-anchor-permalink" href="#Storage-2" title="Permalink"></a></h3><ul><li><p><strong>var_storage_level(p,y,t)</strong>: Storage level of a storage conversion process <span>$p \in P$</span> in year <span>$y\in Y$</span> at time step <span>$t\in T$</span>.</p><ul><li>indices: <span>$P \times Y \times T$</span></li><li>quantity: Energy</li><li>type: Float</li></ul></li><li><p><strong>var_max_storage_level(p,y)</strong>: The maximum energy capacity of the storage conversion process <span>$p \in P$</span> in year <span>$y\in Y$</span>.</p><ul><li>indices: <span>$P \times Y$</span></li><li>quantity: Energy</li><li>type: Float</li></ul></li></ul><h2 id="Constraints"><a class="docs-heading-anchor" href="#Constraints">Constraints</a><a id="Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Constraints" title="Permalink"></a></h2><p>The constraints are defined in the following sections.</p><h3 id="Costs-3"><a class="docs-heading-anchor" href="#Costs-3">Costs</a><a class="docs-heading-anchor-permalink" href="#Costs-3" title="Permalink"></a></h3><p class="math-container">\[\text{var\_total\_cost} = \text{var\_capital\_cost} + \text{var\_operational\_cost}\]</p><p class="math-container">\[\begin{align*}
\text{var\_capital\_cost} &amp;= \sum_{y \in Y} 
\left(
  \text{discount\_factor}[y] * \sum_{p \in P} 
    \left(
      \text{var\_new\_capacity}[p, y] * \text{capital\_cost\_power}[p,y]
    \right)
\right)\\
&amp;- \text{var\_total\_residual\_value}
\end{align*}\]</p><p class="math-container">\[\begin{align*}
\text{var\_operational\_cost} &amp;=
\sum_{p\in P}\sum_{y \in Y} 
\text{discount\_factor}[y] \\
&amp; * 
\left(
  \text{var\_active\_capacity}[p,y] * \text{operational\_cost\_power}[p,y] + \text{total\_energy\_out}[p,y] * \text{operational\_cost\_energy}[p,y]
\right) 
\\ &amp;* \left(y^+-y\quad \text{if} \quad y \neq Y[end] \quad \text{else} \quad 1 \right)
\end{align*}\]</p><p>where <span>$y^+$</span> is the next year after <span>$y$</span>.</p><p class="math-container">\[\begin{align*}
\text{var\_residual\_value}[p,y] &amp;= \text{var\_new\_capacity}[y] * \text{capital\_cost\_power}[p,y] \\
&amp;* (1 - \frac{Y[end]-y+1}{\text{lifetime}[p]}) * \text{discount\_factor}[y], \quad \forall y\in Y,\forall p \in P
\end{align*}\]</p><p class="math-container">\[\text{var\_total\_residual\_value} = \sum_{p \in P} \sum_{y \in Y} \text{var\_residual\_value}[y] \quad \text{if} \quad Y[end] - y &lt; \text{lifetime}[p]\]</p><h3 id="Power-balance"><a class="docs-heading-anchor" href="#Power-balance">Power balance</a><a id="Power-balance-1"></a><a class="docs-heading-anchor-permalink" href="#Power-balance" title="Permalink"></a></h3><p class="math-container">\[\sum_{p \in P | p.cin=c} \text{var\_power\_in}[p,y,t] = 
\sum_{p \in P | p.cout=c} \text{var\_power\_out}[p,y,t], \quad \forall c \in C\setminus \{Dummy\}, \forall y \in Y, \forall t \in T\]</p><h3 id="CO2-3"><a class="docs-heading-anchor" href="#CO2-3">CO2</a><a class="docs-heading-anchor-permalink" href="#CO2-3" title="Permalink"></a></h3><p class="math-container">\[\text{var\_annual\_emission}[y] = \sum_{p \in P} \text{var\_total\_energy\_out}[p,y] * \text{specific\_co2}[p], \quad \forall y \in Y\]</p><p>The annual CO‚ÇÇ emission is equal to the sum of the energy produced by each conversion process multiplied by its specific CO‚ÇÇ emission.</p><p class="math-container">\[\text{var\_annual\_emission}[y] \leq \text{annual\_co2\_limit}[y], \quad \forall y \in Y\]</p><h3 id="Power-Output"><a class="docs-heading-anchor" href="#Power-Output">Power Output</a><a id="Power-Output-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Output" title="Permalink"></a></h3><p class="math-container">\[\text{var\_power\_out}[p,y,t] \leq \text{var\_power\_in}[p,y,t] * \text{efficiency}[p], \quad \forall p \in P, \forall y \in Y, \forall t \in T\]</p><p>why <span>$\leq$</span> and not <span>$=$</span> ?</p><p class="math-container">\[\text{var\_power\_out}[p,y,t] \leq \text{var\_active\_capacity}[p,y], \quad \forall p \in P, \forall y \in Y, \forall t \in T\]</p><p class="math-container">\[\text{var\_power\_out}[p,y,t] \leq \text{var\_active\_capacity}[p,y] * \text{technical\_availability}[p], \quad \forall p \in P, \forall y \in Y, \forall t \in T\]</p><p class="math-container">\[\text{var\_power\_out}[p,y,t] \leq \text{var\_active\_capacity}[p,y] * \text{availability\_profile}[p,t], \quad \forall p \in P, \forall y \in Y, \forall t \in T\]</p><p>These three constraints should not be active at the same time for the same process !!!!</p><h3 id="Power-Energy"><a class="docs-heading-anchor" href="#Power-Energy">Power-Energy</a><a id="Power-Energy-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Energy" title="Permalink"></a></h3><p class="math-container">\[\text{var\_energy\_out\_time}[p,y,t] = \text{var\_power\_out}[p,y,t] * \text{dt} * \text{w}, \quad \forall p \in P, \forall y \in Y, \forall t \in T\]</p><p class="math-container">\[\text{var\_energy\_in\_time}[p,y,t] = \text{var\_power\_in}[p,y,t] * \text{dt} * \text{w} \quad \forall p \in P, \forall y \in Y, \forall t \in T\]</p><h3 id="Fractions-2"><a class="docs-heading-anchor" href="#Fractions-2">Fractions</a><a class="docs-heading-anchor-permalink" href="#Fractions-2" title="Permalink"></a></h3><p class="math-container">\[\text{var\_energy\_out\_time}[p,y,t] \geq \text{min\_fraction\_out}[p,y] * \text{var\_net\_energy\_generation}[p.cout,y,t] \quad \forall p \in P, \forall y \in Y, \forall t \in T\]</p><p class="math-container">\[\text{var\_energy\_out\_time}[p,y,t] \leq \text{max\_fraction\_out}[p,y] * \text{var\_net\_energy\_generation}[p.cout,y,t] \quad \forall p \in P, \forall y \in Y, \forall t \in T\]</p><p class="math-container">\[\text{var\_energy\_in\_time}[p,y,t] \geq \text{min\_fraction\_in}[p,y] * \text{var\_net\_energy\_consumption}[p.cin,y,t] \quad \forall p \in P, \forall y \in Y, \forall t \in T\]</p><p class="math-container">\[\text{var\_energy\_in\_time}[p,y,t] \leq \text{max\_fraction\_in}[p,y] * \text{var\_net\_energy\_consumption}[p.cin,y,t] \quad \forall p \in P, \forall y \in Y, \forall t \in T\]</p><h3 id="Capacity-3"><a class="docs-heading-anchor" href="#Capacity-3">Capacity</a><a class="docs-heading-anchor-permalink" href="#Capacity-3" title="Permalink"></a></h3><p class="math-container">\[\text{var\_legacy\_capacity}[p,y] \leq \text{max\_legacy\_capacity}[p,y] \quad \forall p \in P, \forall y \in Y\]</p><p class="math-container">\[\text{var\_legacy\_capacity}[p,y] \geq \text{min\_legacy\_capacity}[p,y] \quad \forall p \in P, \forall y \in Y\]</p><p class="math-container">\[\text{var\_active\_capacity}[p,y] \leq \text{var\_legacy\_capacity}[p,y] + 
\sum_{y&#39;\in Y| y-\text{lifetime}[p]&lt;y&#39;\leq y}\text{var\_new\_capacity}[p,y&#39;] \quad \forall p \in P, \forall y \in Y\]</p><p class="math-container">\[\text{var\_active\_capacity}[p,y] \leq  \text{max\_capacity}[p,y] \quad \forall p \in P, \forall y \in Y\]</p><p class="math-container">\[\text{var\_active\_capacity}[p,y] \geq  \text{min\_capacity}[p,y] \quad \forall p \in P, \forall y \in Y\]</p><h3 id="Auxiliary-Linking-Variables"><a class="docs-heading-anchor" href="#Auxiliary-Linking-Variables">Auxiliary Linking Variables</a><a id="Auxiliary-Linking-Variables-1"></a><a class="docs-heading-anchor-permalink" href="#Auxiliary-Linking-Variables" title="Permalink"></a></h3><p class="math-container">\[\text{var\_total\_energy\_out}[p,y] = \sum_{t \in T} \text{var\_energy\_out\_time}[p,y,t] \quad \forall p \in P, \forall y \in Y\]</p><p class="math-container">\[\text{var\_total\_energy\_in}[p,y] = \sum_{t \in T} \text{var\_energy\_in\_time}[p,y,t] \quad \forall p \in P, \forall y \in Y\]</p><p class="math-container">\[\text{var\_net\_energy\_generation}[c,y,t] = \sum_{p\in P|p.cout=c}
\text{var\_energy\_out\_time}[p,y,t] \quad \forall c \in C, \forall y \in Y, \forall t \in T\]</p><p class="math-container">\[\text{var\_net\_energy\_consumption}[c,y,t] = \sum_{p\in P|p.cin=c}
\text{var\_energy\_in\_time}[p,y,t] \quad \forall c \in C, \forall y \in Y, \forall t \in T\]</p><h3 id="Generation"><a class="docs-heading-anchor" href="#Generation">Generation</a><a id="Generation-1"></a><a class="docs-heading-anchor-permalink" href="#Generation" title="Permalink"></a></h3><p class="math-container">\[\text{var\_total\_energy\_out}[p,y] \leq \text{max\_energy\_out}[p,y] \quad \forall p \in P, \forall y \in Y\]</p><p class="math-container">\[\text{var\_total\_energy\_out}[p,y] \geq \text{min\_energy\_out}[p,y] \quad \forall p \in P, \forall y \in Y\]</p><p class="math-container">\[\text{var\_energy\_out\_time}[p,y,t] = \text{var\_total\_energy\_out}[p,y] 
* \text{output\_profile}[p,t] \quad \forall p \in P, \forall y \in Y, \forall t \in T\]</p><h3 id="Storage-3"><a class="docs-heading-anchor" href="#Storage-3">Storage</a><a class="docs-heading-anchor-permalink" href="#Storage-3" title="Permalink"></a></h3><p>Let <span>$S\subseteq P$</span> be the set of conversion processes that are storage processes.</p><p class="math-container">\[S = \{p \in P | p.is\_storage\}\]</p><p>then</p><p class="math-container">\[\text{var\_max\_storage\_level}[s,y] = \text{var\_active\_capacity}[s,y]/\text{c\_rate}[s] \quad \forall s \in S, \forall y \in Y\]</p><p class="math-container">\[\text{var\_storage\_level}[s,y,t] \leq \text{var\_max\_storage\_level}[s,y] \quad \forall s \in S, \forall y \in Y, \forall t \in T\]</p><p class="math-container">\[\text{var\_power\_in}[s,y,t] \leq \text{var\_active\_capacity}[s,y] \quad \forall s \in S, \forall y \in Y, \forall t \in T\]</p><p class="math-container">\[\begin{align*}
\text{var\_storage\_level}[s,y,t] &amp;= \text{var\_storage\_level}[s,y,t^{-}] \\
&amp;+ \text{var\_power\_in}[s,y,t] * \text{dt} * \text{charge\_efficiency}[s]\\
&amp;- \text{var\_power\_out}[s,y,t] * \text{dt} / \text{efficiency}[s]
\quad \forall s \in S, \forall y \in Y, \forall t \in T
\end{align*}\]</p><p class="math-container">\[t^-\]</p><p>is the previous time step of <span>$t$</span>.</p><p>&lt;span style=&quot;color:red&quot;&gt;üö® Objective function !&lt;/span&gt;</p><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../tutorials/sub2/">¬´ Subsection 2</a><a class="docs-footer-nextpage" href="../config/">Config File ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.12.0 on <span class="colophon-date" title="Tuesday 17 June 2025 09:14">Tuesday 17 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
